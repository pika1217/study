---
title: javaScript 垃圾回收机制
date: 2017-7-13
tags: [垃圾回收]
categories: javaScript
---
基本类型的值保存在栈内存中，引用类型保存字堆内存中。找出不再继续使用的变量，然后释放其所占内存。

## 标记清除
当变量进入环境时（被声明）标记其“进入环境”，永远不能释放一个标记“进入环境”的变量所占的内存，因为只要执行流进入相应的环境皆有可能用到它。当变量离开环境时就将其标记为“离开环境”，（可以用变量列表标记）。垃圾回收器会在一定时间间隔内对所有变量进行标记，被标记为“离开环境“的变量即将被删除，销毁那些带标记的值并回收内存空间。

## 引用计数（严重问题：循环引用）
追踪记录每个值被引用的次数，若被引用了则加一，若变量引用了另外一个值，则这个值得引用次数减一。当一个值得引用次数为0时，说明不再访问这个值，从而将其占用的内存回收，垃圾收集器在下次运行时就会释放引用次数为0的值所占的空间。

## 内存管理：解除引用 =null    
